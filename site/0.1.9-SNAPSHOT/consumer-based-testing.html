<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-06-18
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150618" />
    <meta http-equiv="Content-Language" content="en" />
    <title>AgileDev - Consumer-based testing</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                                                                                                <img src="images/UniKnow-logo.jpg"  alt="UniKnow"/>
                </div>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                <h2>AgileDev</h2>
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-06-18</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.1.9-SNAPSHOT</li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Guidelines</li>
                                
      <li>
    
                          <a href="developerSetup.html" title="Developers Setup">
          <i class="none"></i>
        Developers Setup</a>
            </li>
                  
      <li>
    
                          <a href="siteDocumentation.html" title="Site Documentation">
          <i class="none"></i>
        Site Documentation</a>
            </li>
                              <li class="nav-header">Documentation</li>
                                
      <li>
    
                          <a href="branchingModels.html" title="Branching Models">
          <i class="none"></i>
        Branching Models</a>
            </li>
                                                                                                                                      
      <li>
    
                          <a href="software-design-principles.md" title="Software Design Principles">
          <i class="icon-chevron-down"></i>
        Software Design Principles</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="bdd.html" title="Behavior Driven Development">
          <i class="none"></i>
        Behavior Driven Development</a>
            </li>
                      
      <li>
    
                          <a href="dbc.html" title="Design by Contract">
          <i class="none"></i>
        Design by Contract</a>
            </li>
                      
      <li>
    
                          <a href="intention_revealing_interfaces.html" title="Intention revealing interfaces">
          <i class="none"></i>
        Intention revealing interfaces</a>
            </li>
                      
      <li>
    
                          <a href="reactive-system.html" title="Reactive System">
          <i class="none"></i>
        Reactive System</a>
            </li>
                      
      <li>
    
                          <a href="side_effect_free_functions.html" title="Side effect free functions">
          <i class="none"></i>
        Side effect free functions</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
      <li>
    
                          <a href="patterns.html" title="Patterns">
          <i class="icon-chevron-down"></i>
        Patterns</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="api-gateway.html" title="API gateway">
          <i class="none"></i>
        API gateway</a>
            </li>
                                                                                  
      <li>
    
                          <a href="automated-testing.html" title="Automated testing">
          <i class="icon-chevron-down"></i>
        Automated testing</a>
                    <ul class="nav nav-list">
                      
      <li class="active">
    
            <a href="#"><i class="none"></i>Consumer-based testing</a>
          </li>
              </ul>
        </li>
                      
      <li>
    
                          <a href="cache.html" title="Caching">
          <i class="none"></i>
        Caching</a>
            </li>
                      
      <li>
    
                          <a href="circuit-breaker.html" title="Circuit Breaker">
          <i class="none"></i>
        Circuit Breaker</a>
            </li>
                      
      <li>
    
                          <a href="client-side-discovery.html" title="Client Side Discovery">
          <i class="none"></i>
        Client Side Discovery</a>
            </li>
                      
      <li>
    
                          <a href="cqrs.html" title="Command Query Responsibility Separation">
          <i class="none"></i>
        Command Query Responsibility Separation</a>
            </li>
                      
      <li>
    
                          <a href="deployment-microservices.html" title="Deployment microservices">
          <i class="none"></i>
        Deployment microservices</a>
            </li>
                                                                                                                                                                                                                                                                  
      <li>
    
                          <a href="ddd/introduction_ddd.html" title="Domain Driven Design">
          <i class="icon-chevron-right"></i>
        Domain Driven Design</a>
                  </li>
                                                                                                            
      <li>
    
                          <a href="eip.html" title="Enterprise Integration Pattern">
          <i class="icon-chevron-right"></i>
        Enterprise Integration Pattern</a>
                  </li>
                      
      <li>
    
                          <a href="exception-handling.html" title="Exception Handling">
          <i class="none"></i>
        Exception Handling</a>
            </li>
                      
      <li>
    
                          <a href="microservice-architecture.html" title="Microservice Architecture">
          <i class="none"></i>
        Microservice Architecture</a>
            </li>
                      
      <li>
    
                          <a href="monolithic-architecture.html" title="Monolithic Architecture">
          <i class="none"></i>
        Monolithic Architecture</a>
            </li>
                      
      <li>
    
                          <a href="self-registration.html" title="Self registration">
          <i class="none"></i>
        Self registration</a>
            </li>
                      
      <li>
    
                          <a href="server-side-discovery.html" title="Server Side Discovery">
          <i class="none"></i>
        Server Side Discovery</a>
            </li>
                      
      <li>
    
                          <a href="service-connector.html" title="Service Connector">
          <i class="none"></i>
        Service Connector</a>
            </li>
                      
      <li>
    
                          <a href="service-registry.html" title="Service Registry">
          <i class="none"></i>
        Service Registry</a>
            </li>
                      
      <li>
    
                          <a href="service-statelessness.html" title="Service Statelessness">
          <i class="none"></i>
        Service Statelessness</a>
            </li>
                      
      <li>
    
                          <a href="srp.html" title="Single Responsibility Principle">
          <i class="none"></i>
        Single Responsibility Principle</a>
            </li>
                      
      <li>
    
                          <a href="tcc.html" title="Try-Cancel/Confirm">
          <i class="none"></i>
        Try-Cancel/Confirm</a>
            </li>
                      
      <li>
    
                          <a href="uuid.html" title="UUID">
          <i class="none"></i>
        UUID</a>
            </li>
                      
      <li>
    
                          <a href="third-party-registration.html" title="3rd party registration">
          <i class="none"></i>
        3rd party registration</a>
            </li>
              </ul>
        </li>
                  
      <li>
    
                          <a href="Glossary.html" title="Glossary">
          <i class="none"></i>
        Glossary</a>
            </li>
                  
      <li>
    
                          <a href="abbreviations.html" title="Abbreviations">
          <i class="none"></i>
        Abbreviations</a>
            </li>
                              <li class="nav-header">Modules</li>
                                
      <li>
    
                          <a href="buildConfiguration/index.html" title="Build Configuration">
          <i class="none"></i>
        Build Configuration</a>
            </li>
                  
      <li>
    
                          <a href="index/index.html" title="Maven Site Indexer">
          <i class="none"></i>
        Maven Site Indexer</a>
            </li>
                  
      <li>
    
                          <a href="common/index.html" title="AgileDev common">
          <i class="none"></i>
        AgileDev common</a>
            </li>
                  
      <li>
    
                          <a href="parent/index.html" title="AgileDev parent POM">
          <i class="none"></i>
        AgileDev parent POM</a>
            </li>
                  
      <li>
    
                          <a href="parent/JUnitBDD/index.html" title="JUnit BDD">
          <i class="none"></i>
        JUnit BDD</a>
            </li>
                  
      <li>
    
                          <a href="parent/dbc4java/index.html" title="Design By Contracts for Java">
          <i class="none"></i>
        Design By Contracts for Java</a>
            </li>
                  
      <li>
    
                          <a href="parent/cucumber-reporting/index.html" title="Cucumber Reporting">
          <i class="none"></i>
        Cucumber Reporting</a>
            </li>
                  
      <li>
    
                          <a href="parent/cucumber-reporting-example/index.html" title="Cucumber Reporting example">
          <i class="none"></i>
        Cucumber Reporting example</a>
            </li>
                  
      <li>
    
                          <a href="parent/archimate/index.html" title="Tutorial ArchiMate">
          <i class="none"></i>
        Tutorial ArchiMate</a>
            </li>
                  
      <li>
    
                          <a href="parent/dbc/index.html" title="Tutorial Design by Contract">
          <i class="none"></i>
        Tutorial Design by Contract</a>
            </li>
                  
      <li>
    
                          <a href="parent/ddd/index.html" title="Tutorial Domain Driven Design">
          <i class="none"></i>
        Tutorial Domain Driven Design</a>
            </li>
                  
      <li>
    
                          <a href="parent/rest/index.html" title="Tutorial Rest">
          <i class="none"></i>
        Tutorial Rest</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                        
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Consumer-based testing</h1>
<p>Consumer based testing is counter intuitive as it relies on the consumer writing tests for the producer. When writing contract tests, a consumer writes a test against a service it uses to confirm that the service contract satisfies the consumer needs.</p>
<p>By doing this we enable a neat trick in the deployment pipeline. After a service passes its internal build and QA process, all services and consumers go through a unified integration test stage. It could be triggered by the consumer changing tests, or the producer committing changes to the service. During this stage each consumer runs its tests against the new version of the changed service. Any failure prevents the new version from progressing in the pipeline.</p>
<p>Now for example, if we would have a <tt>Order</tt> Service that depends on the <tt>Product</tt> and <tt>Billing</tt> service, a new build of <tt>Order</tt> would trigger the execution of its consumer based tests against the latest version of <tt>Product</tt> and <tt>Billing</tt> service to pass the integration test stage.</p>
<p><img src="images/example-pipeline-consumer-based-testing.png" alt="Example pipeline consumer based testing" /></p>
<p>Triggering only tests that are associated with a particular change can get tricky, however you can go a long way by simply running all contract tests each time a new service is deployed to the integration test stage within the pipeline.</p>
<p><img src="images/sample-test-run-consumer-based-test.png" alt="Sample test run consumer based test" /></p>
<p>This would mean that the consumer based tests of billing would be included (gray arrow), which aren&#x2019;t relevant to the change that was introduced.</p>
<p>Assuming that all the tests pass, we have a set of services that have been proven to work together. We can record the set of them working together by creating a Deployable Artifact Set (DAS). This DAS can become the single deployable artifact for higher stages within the deployment pipeline, or it can become a compatibility reference.</p>
<p><img src="images/info-icon.png" alt="Info" /> The DAS could become the input for creating a container that could be deployed to other test environments.</p>
<div class="section">
<h2>See also<a name="See_also"></a></h2>

<ul>
  
<li>[Service connector] - Since all services are accessed through a service connector the consumer based tests to verify whether the service satisfies the needs of the consumer will be included in the service connector.</li>
</ul></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2015
                        <a href="http://www.uniknow.org">UniKnow</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
