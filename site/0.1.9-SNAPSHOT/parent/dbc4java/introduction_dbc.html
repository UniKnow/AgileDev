<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-04-09
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150409" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Design By Contract - Introduction Design By Contract.</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../../www.uniknow.com/" id="bannerLeft">
                                                                                                <img src="../../images/UniKnow-logo.jpg"  alt="Company name"/>
                </a>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                <h2>AgileDev</h2>
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-04-09</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.1.9-SNAPSHOT</li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li class="active">
    
            <a href="#"><i class="none"></i>Introduction DBC</a>
          </li>
                  
      <li>
    
                          <a href="validation_constraints.html" title="Constraints">
          <i class="none"></i>
        Constraints</a>
            </li>
                  
      <li>
    
                          <a href="usage.html" title="Usage dbc4spring">
          <i class="none"></i>
        Usage dbc4spring</a>
            </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Introduction Design By Contract.</h1>
<p>The principle of <i>design by contract</i> was first introduced by Bertrant Meyer and the basic idea is modules in software systems should be designed to follow contracts. The contracts shall specify under which circumstances a method can be used. Most methods request some parameter(s) to be sent to the method when it is invoked. Sometimes it is necessary that the parameters have certain values for the method to be able to execute and produce correct output. The contract is all about specifying acceptable values for the parameters both before and after the execution of the method.</p>
<p>Contracts have suppliers and consumers. The supplier can be a method or a class that already is written and provides some functionality to other developers. The supplier code will be called from other parts of the system when it is needed. The code that calls the supplier will be the client.</p>
<p>In order to verify that the contract is followed by both the supplier and the client, constraints will be inserted during the design of the contract. An example of an constraint would be that a certain integer should have a positive value. Constraints are basically boolean expressions.</p>
<div class="section">
<h2>Preconditions and Postconditions.<a name="Preconditions_and_Postconditions."></a></h2>
<p>A method contract is a set of constraints that are evaluated before and after the execution of one method. The precondition that is spoken of are the constraints that must be fulfilled before the code in a method is executed. A postcondition is a guaranteed state or value that the result must satisfy when the code has been executed. The pre- and postconditions function as a guarantee for both the client and supplier.</p>
<p>A simple contract is shown below. The client of the method must send a parameter of type <tt>int</tt> that is smaller than <tt>MAX_VALUES</tt>. In return the client can be certain that that the method returns the value placed at the requested postion in the array.</p>

<div class="source">
<pre>@Named
@Validated
public class SimpleMethodContract {

    /**
     * Max number of values that can be persisted.
     */
    public static final int MAX_VALUES = 10;

    private int values[] = new int[MAX_VALUES];

    public int getValue(@Max(MAX_VALUES - 1) @Min(0) final int index) {
        return values[index];
    }

}
</pre></div>
<p>If a method has a precondition which say that a <tt>index</tt> must be within a certain range (<tt>0</tt> .. <tt>MAX_INDEX</tt>), then every programmer must ensure that the method is invoked with a <tt>index</tt> which is within the range. That is the obligation of the client. A consequence of the constraint is that the method may start executing its code without verifying that the <tt>index</tt> is within the range (this is done by the framework), which is a clear benefit. In case of a postcondition the client knows that the method returns a valid value (verified by framework) and that the instance is in a state according to the postconditions; e.g. there is no need for the client to verify the output.</p>
<p>As a summary you can say that if the client invoke a method with a satisfied precondition then the method promise to deliver an output that is satisfied according to the postcondition. On the other hand, if the postcondition is not satisfied, a <tt>ValidationException</tt> is raised at the client and it is there that the error must be fixed, not in the supplier. A <tt>ValidationException</tt> during postcondition means a fault in the supplier and it must be fixed in the invoked method. The constraints help the developer to find the error and to fix it in the right space.</p></div>
<div class="section">
<h2>Invariant<a name="Invariant"></a></h2>
<p>An invariant is a certain constraint that must be true for all methods that are grouped into an class. There could for example be an class which represents a house. A house can contain one of more rooms which have a certain area. Lets say there exist several methods that can change the characteristics of a house and a room. Then the house class will need an invariant which says that the summation of rooms areas must be the same as the total area of the house.</p>
<p>Invariants are used to ensure that the properties of the entity always have correct values andt that the present state is correct regardless of which method is invoked.</p>
<p>Assertions like preconditions and postconditions are used to verify the input and output of a single method. An invariant, must be verified on every call to a method of a class to ensure the correct properties.</p>
<p>In this example, the invariant guarantees that the <tt>PositiveInteger</tt>&#x2019;s value is always greater than or equal to zero.</p>

<div class="source">
<pre>/**
 * Example of an invariant that guarantees that value is positive
 */
@Named
@Validated
@Scope(BeanDefinition.SCOPE_PROTOTYPE)
public class PositiveInteger {

    @Min(0)
    private int value = 0;

    public void add(int addedValue) {
        value += addedValue;
    }

    public void subtract(int subtractedValue) {
        value -= subtractedValue;
    }

    public int toInt() {
        return value;
    }
}
</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2015
                        <a href="http://www.uniknow.org">UniKnow</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
