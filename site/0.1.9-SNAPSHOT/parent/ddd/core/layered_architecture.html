<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-05-04
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150504" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Domain Driven Design - Layered Architecture</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../www.uniknow.com/" id="bannerLeft">
                                                                                                <img src="../images/UniKnow-logo.jpg"  alt="Company name"/>
                </a>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                <h2>Tutorial Domain Driven Design</h2>
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-05-04</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.1.9-SNAPSHOT</li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Core</li>
                                
      <li>
    
                          <a href="../core/introduction_ddd.html" title="Introduction DDD">
          <i class="none"></i>
        Introduction DDD</a>
            </li>
                                                                                                                                                                                                            
      <li>
    
                          <a href="../core/building_blocks_ddd.html" title="Building blocks DDD">
          <i class="icon-chevron-down"></i>
        Building blocks DDD</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="../core/aggregates.html" title="Aggregates">
          <i class="none"></i>
        Aggregates</a>
            </li>
                      
      <li>
    
                          <a href="../core/entities.html" title="Entities">
          <i class="none"></i>
        Entities</a>
            </li>
                      
      <li>
    
                          <a href="../core/factories.html" title="Factories">
          <i class="none"></i>
        Factories</a>
            </li>
                      
      <li class="active">
    
            <a href="#"><i class="none"></i>Layered Architecture</a>
          </li>
                      
      <li>
    
                          <a href="../core/modules.html" title="Modules">
          <i class="none"></i>
        Modules</a>
            </li>
                      
      <li>
    
                          <a href="../core/repositories.html" title="Repositories">
          <i class="none"></i>
        Repositories</a>
            </li>
                      
      <li>
    
                          <a href="../core/services.html" title="Services">
          <i class="none"></i>
        Services</a>
            </li>
                      
      <li>
    
                          <a href="../core/value_objects.html" title="Value Objects">
          <i class="none"></i>
        Value Objects</a>
            </li>
              </ul>
        </li>
                                                                                                        
      <li>
    
                          <a href="../core/best_practices.html" title="Best practices">
          <i class="icon-chevron-right"></i>
        Best practices</a>
                  </li>
                  
      <li>
    
                          <a href="../core/faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                  
      <li>
    
                          <a href="../core/glossary.html" title="Glossary">
          <i class="none"></i>
        Glossary</a>
            </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Layered Architecture</h1>
<p>In an object oriented program UI, database, and other support code often gets written directly into the business objects. Additional business logic is embedded in the behavior of UI widgets and database scripts. This happens because it is the easiest way to make things work, in the short run. When the domain related code is diffused through such a large amount of other code, it becomes extremely difficult to see and reason about. Superficial changes to the UI can actually change business logic. To change a business rule may require meticulous tracing of UI code, database code, or other programming elements. Implementing coherent model driven objects impractical and automated testing is awkward. With all the technologies and logic involved in each activity, a program must be very simple or it becomes impossible to understand.</p>
<p><b>Therefore</b>:</p>

<ul>
  
<li>Partition a complex program into &#x2019;layer&#x2019;s.</li>
  
<li>Develop a design within each &#x2018;layer&#x2019; that is cohesive and that depends only on the layers below.</li>
  
<li>Follow standard architectural patterns to provide loose coupling to the layers above by means of a mechanism such as <i>Observer</i> or <i>Mediator</i>; there is never a direct reference from lower to higher.</li>
  
<li>Concentrate all the code related to the domain model in one layer and isolate it from the user interface, application, and infrastructure code. The domain objects, free of the responsibility of displaying themselves, storing themselves, managing application tasks, and so forth, can be focused on expressing the domain model. This allows a model to evolve to be rich and clear enough to capture essential business knowledge and put it to work.</li>
</ul>
<p>A typical enterprise application architecture consists of the following four conceptual layers:</p>

<ul>
  
<li><i>Presentation Layer</i> - Responsible for presenting information to the user and interpreting user commands.</li>
  
<li><i>Application Layer</i> - Layer that coordinates the application activity. It doesn&#x2019;t contain any business logic. It does not hold the state of business objects, but it can hold the state of an application task&#x2019;s progress.</li>
  
<li><i>Domain Layer</i> - This layer contains information about the business domain. The state of business objects is held here. Persistence of the business objects, and possibly their state is delegated to the infrastructure layer.</li>
  
<li><i>Infrastructure Layer</i> - This layer acts as a supporting library for all the other layers. It implements persistence for business objects, contains supporting libraries, etc.</li>
</ul>
<p><img src="images/LayersAndDDD.png" alt="Layers and DDD concepts" /></p>
<div class="section">
<h2>Application layer.<a name="Application_layer."></a></h2>
<p>The application layer:</p>

<ul>
  
<li>Is responsible for the navigation between the UI screens in the bounded context as well as the interaction with application layers of other bounded contexts.</li>
  
<li>Can perform the basic (non business related) validation on the user input data before transmitting it to the other (lower) layers of the application.</li>
  
<li>Doesn&#x2019;t contain any business or domain related logic.</li>
  
<li>Doesn&#x2019;t have any state reflecting a business use case but it can manage the state of the user session or the progress of a task.</li>
  
<li>Contains <a href="services">application services</a>.</li>
</ul></div>
<div class="section">
<h2>Domain layer.<a name="Domain_layer."></a></h2>
<p>The domain layer:</p>

<ul>
  
<li>Is responsible for the concepts of business domain, and the business rules. Entities encapsulate the state and behavior of the business domain.</li>
  
<li>Manages the state of a business use case if the use case spans multiple user requests, (e.g. loan registration process which consists of multiple steps: user entering loan details, system returning products and rates, user selecting particular product, system locking the loan for selected rate).</li>
  
<li>Contains <a href="services">domain services</a>.</li>
  
<li>Is the heart of the bounded context and should be well isolated from the other layers. Also, it should not be dependent on the application frameworks used in the other layers, (Hibernate, Spring, etc).</li>
</ul></div>
<div class="section">
<h2>CRUD operations<a name="CRUD_operations"></a></h2>
<p>TODO: see <a class="externalLink" href="http://www.pinfaq.com/1478/domain-driven-design-architecture-layer-design-operation">Domain Driven Design (DDD) architecture layer design for CRUD operation</a></p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2015
                        <a href="http://www.uniknow.org">UniKnow</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
